{"version":3,"sources":["store/notes/actionTypes.js","store/notes/reducer.js","store/index.js","store/notes/actionCreators.js","apiclient/index.js","app/notes/Navigator.js","app/notes/Content.js","app/notes/Header.js","app/notes/Notes.js","containers/Home.js","app/user/Login.js","app/user/Register.js","containers/User.js","index.js"],"names":["UPDATE_NOTE_LIST","SET_CURRENT_NOTE","initialState","notes","titles","noteId","undefined","editingNote","note","store","createStore","state","arguments","length","action","type","types","Object","assign","applyMiddleware","thunk","setNotes","noteObj","i","id","push","name","console","log","setNote","apiclient","Authorization","this","getAccessToken","localStorage","getItem","token","setItem","LOGIN","projectHost","REGISTER","REFRESH","DELETE_SESSION","authHeaders","getAuthHeaders","refreshHeaders","getRefreshToken","login","username","password","headers","window","btoa","axios","post","register","read","write","saveTokens","accessToken","refreshToken","sessionId","logout","success","error","deleteCurrentSession","removeItem","sid","URL","replace","delete","then","catch","LIST_NOTES","CREATE_NOTE","GET_NOTE","UPDATE_NOTE","DELETE_NOTE","list","get","create","data","update","put","deleteNote","Navigator","newNote","noteTitle","keys","_this","props","client","content","listNotes","err","response","recieveNotes","dispatch","items","componentDidMount","selectNote","history","_this2","_this$props","classes","variant","open","onClose","notesArr","values","categories","children","react_default","a","createElement","Drawer_default","List_default","disablePadding","ListItem_default","className","classNames","firebase","item","itemCategory","button","onClick","ListItemIcon_default","Add_default","ListItemText_default","primary","itemPrimary","map","_ref","Fragment","key","categoryHeader","categoryHeaderPrimary","_ref2","dense","selected","itemActionable","itemActiveItem","textDense","Component","withStyles","theme","paddingTop","paddingBottom","color","palette","common","white","backgroundColor","boxShadow","fontSize","fontFamily","typography","&:hover","&$textDense","divider","marginTop","spacing","unit","connect","Content","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","loading","recieveNote","getNote","c","assertThisInitialized","setTimeout","componentDidUpdate","prevProps","handleValueChange","value","handleTabChange","tab","toggleEdit","edit","saveNote","wasThis","currentContent","exec","title","updatedNote","newNotesList","refreshList","render","Paper_default","paper","Typography_default","component","align","CircularProgress_default","Grid_default","container","alignItems","Tooltip_default","IconButton_default","Create_default","Save_default","DeleteOutline_default","contentWrapper","dangerouslySetInnerHTML","__html","converter","makeHtml","js_default","onChange","onTabChange","generateMarkdownPreview","markdown","Promise","resolve","selectedTab","Showdown","tables","simplifiedAutoLink","strikethrough","tasklists","margin","overflow","searchBar","borderBottom","searchInput","block","display","addUser","marginRight","Header","handleToggle","handleClose","event","anchorEl","contains","target","Machinable","user","onDrawerToggle","AppBar_default","header","position","elevation","Toolbar_default","Hidden_default","smUp","aria-label","menuButton","Menu_default","xs","buttonRef","node","aria-owns","aria-haspopup","Mood_default","avatar","Popper_default","transition","disablePortal","TransitionProps","placement","Grow_default","style","transformOrigin","ClickAwayListener_default","onClickAway","MenuList_default","MenuItem_default","ExitToApp_default","noWrap","secondaryBar","zIndex","marginLeft","iconButtonAvatar","padding","link","textDecoration","borderColor","background","main","dark","light","createMuiTheme","useNextVariants","h5","fontWeight","letterSpacing","shape","borderRadius","objectSpread","overrides","MuiDrawer","MuiButton","label","textTransform","contained","&:active","MuiTabs","root","indicator","height","borderTopLeftRadius","borderTopRightRadius","MuiTab","defineProperty","minWidth","breakpoints","up","labelContainer","MuiIconButton","MuiTooltip","tooltip","MuiDivider","MuiListItemText","fontWeightMedium","MuiListItemIcon","& svg","MuiAvatar","width","disableRipple","mixins","toolbar","minHeight","styles","drawer","flexShrink","appContent","flex","flexDirection","mainContent","Paperbase","mobileOpen","handleDrawerToggle","core_styles","CssBaseline_default","implementation","notes_Navigator","PaperProps","xsDown","notes_Header","notes_Content","React","Home","newId","match","params","oldId","componentWillMount","Notes","Signin","handleResponse","access_token","refresh_token","session_id","location","href","handleError","errors","checked","onSubmit","preventDefault","k","join","pw","un","logo","Avatar_default","largeAvatar","Notes_default","largeAvatarIcon","v","form","FormControl_default","required","fullWidth","InputLabel_default","htmlFor","Input_default","autoComplete","autoFocus","Button_default","submit","Divider_default","concat","marginBottom","Register","password_confirm","User","Switch","Route","path","Login","interceptors","use","status","setAccessToken","config","request","message","reject","createHistory","ReactDOM","es","Router","containers_Home","document","getElementById"],"mappings":"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","file":"static/js/main.2c523e43.chunk.js","sourcesContent":["export const UPDATE_NOTE_LIST = \"notes.UPDATE_NOTE_LIST\";\nexport const SET_CURRENT_NOTE = 'notes.SET_CURRENT_NOTE';","import * as types from './actionTypes.js'\n\nconst initialState = {\n\tnotes: {},\n\ttitles: [],\n\tnoteId: undefined,\n\teditingNote: false,\n\tnote: {}\n}\n\nexport default function reducer(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase types.UPDATE_NOTE_LIST:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tnotes: action.notes,\n\t\t\t\ttitles: action.titles\n\t\t\t});\n\t\tcase types.SET_CURRENT_NOTE:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tnoteId: action.noteId\n\t\t\t});\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n","import { createStore, applyMiddleware } from 'redux';\nimport reducer from './notes/reducer';\nimport thunk from 'redux-thunk';\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nexport default store;","import * as types from './actionTypes.js';\n\nexport function setNotes(notes) {\n    var noteObj = {};\n    var titles = [];\n    for(let i = 0; i < notes.length; i++) {\n        noteObj[notes[i].id] = notes[i];\n        titles.push(notes[i].name);\n    }\n    console.log(notes);\n    console.log(titles);\n    const action = {\n        type: types.UPDATE_NOTE_LIST,\n        notes: noteObj,\n        titles: titles\n    };\n    return action;\n}\n\nexport function setNote(noteId) {\n    const action = {\n        type: types.SET_CURRENT_NOTE,\n        noteId: noteId\n    };\n    return action;\n}\n","import axios from 'axios';\n\n// NotesClient provides a simple wrapper to the Machinable HTTP interface for the Notes project\nclass NotesClient {\n    projectHost() {\n        return \"https://notes.machinable.io\"\n    }\n\n    /* helpers */\n    getAuthHeaders(){\n        return {\"Authorization\": \"Bearer \" + this.getAccessToken()}\n    }\n\n    getRefreshToken() {\n        return localStorage.getItem(\"refresh_token\")\n    }\n\n    getAccessToken() {\n        return localStorage.getItem(\"access_token\")\n    }\n\n    setAccessToken(token) {\n        localStorage.setItem(\"access_token\", token);\n    }\n\n    /* MANAGEMENT APIS */\n    user() {\n        var LOGIN = this.projectHost() + \"/sessions/\";\n        var REGISTER = this.projectHost() + \"/users/register\";\n        var REFRESH = this.projectHost() + \"/sessions/refresh\";\n        var DELETE_SESSION = this.projectHost() + \"/sessions/{sid}\";\n        var authHeaders = this.getAuthHeaders();\n        var refreshHeaders = {\"Authorization\": \"Bearer \" + this.getRefreshToken()}\n\n        return {\n            login: function(username, password) {\n                var encoded = window.btoa(username + \":\" + password);\n                var headers = {\"Authorization\": \"Basic \" + encoded};\n                return axios.post(LOGIN, {}, {headers: headers});\n            },\n\n            register: function(username, password) {\n                return axios.post(REGISTER, {username: username, password: password, read: true, write: true});\n            },\n\n            saveTokens: function(accessToken, refreshToken, sessionId) {\n                localStorage.setItem(\"access_token\", accessToken);\n                localStorage.setItem(\"refresh_token\", refreshToken);\n                localStorage.setItem(\"session_id\", sessionId);\n            },\n\n            refreshToken: function() {\n                return axios.post(REFRESH, {}, {headers: refreshHeaders})\n            },\n\n            logout: function(success, error) {\n                this.deleteCurrentSession(function(){\n                    localStorage.removeItem(\"access_token\");\n                    localStorage.removeItem(\"refresh_token\");\n                    localStorage.removeItem(\"session_id\");\n                    success();\n                }, error);\n            },\n\n            deleteCurrentSession: function(success, error) {\n                var sid = localStorage.getItem(\"session_id\");\n                if (sid) {\n                    var headers = authHeaders;\n                    var URL = DELETE_SESSION.replace(\"{sid}\", sid)\n                    axios.delete(URL, {headers: headers}).then(success).catch(error);\n                }\n                success();\n            }\n        }\n    }\n\n    notes() {\n        var LIST_NOTES = this.projectHost() + \"/api/notes?_limit=100&_sort=-_metadata.created\";\n        var CREATE_NOTE = this.projectHost() + \"/api/notes\";\n        var GET_NOTE = this.projectHost() + \"/api/notes/{id}\";\n        var UPDATE_NOTE = this.projectHost() + \"/api/notes/{id}\";\n        var DELETE_NOTE = this.projectHost() + \"/api/notes/{id}\";\n        var authHeaders = this.getAuthHeaders();\n\n        return {\n            // lists all (limit 100) notes\n            list: function(success, error) {\n                axios.get(LIST_NOTES, {headers: authHeaders})\n                    .then(success)\n                    .catch(error);\n            },\n\n            // creates a new note with the give payload\n            create: function(data, success, error) {\n                axios.post(CREATE_NOTE, data, {headers: authHeaders})\n                    .then(success)\n                    .catch(error);\n            },\n\n            // updates a note based on id\n            update: function(id, data, success, error) {\n                axios.put(UPDATE_NOTE.replace(\"{id}\", id), data, {headers: authHeaders})\n                    .then(success)\n                    .catch(error);\n            },\n\n            // retrieves a single note based on id\n            // ... if we wanted to be clever, we really do not need this as we list all notes\n            get: function(id, success, error) {\n                axios.get(GET_NOTE.replace(\"{id}\", id), {headers: authHeaders})\n                    .then(success)\n                    .catch(error);\n            },\n\n            // deletes a note based on id\n            deleteNote: function(id, success, error) {\n                axios.delete(DELETE_NOTE.replace(\"{id}\", id), {headers: authHeaders})\n                    .then(success)\n                    .catch(error);\n            }\n        }\n    }\n}\n\nexport default new NotesClient();","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport AddIcon from '@material-ui/icons/Add';\nimport {setNotes} from '../../store/notes/actionCreators';\n\nimport client from '../../apiclient/';\n\nconst styles = theme => ({\n  categoryHeader: {\n    paddingTop: 16,\n    paddingBottom: 16,\n  },\n  categoryHeaderPrimary: {\n    color: theme.palette.common.white,\n  },\n  item: {\n    paddingTop: 4,\n    paddingBottom: 4,\n    color: 'rgba(255, 255, 255, 0.7)',\n  },\n  itemCategory: {\n    backgroundColor: '#232f3e',\n    boxShadow: '0 -1px 0 #404854 inset',\n    paddingTop: 16,\n    paddingBottom: 16,\n  },\n  firebase: {\n    fontSize: 24,\n    fontFamily: theme.typography.fontFamily,\n    color: theme.palette.common.white,\n  },\n  itemActionable: {\n    '&:hover': {\n      backgroundColor: 'rgba(255, 255, 255, 0.08)',\n    },\n  },\n  itemActiveItem: {\n    color: '#4fc3f7',\n  },\n  itemPrimary: {\n    color: 'inherit',\n    fontSize: theme.typography.fontSize,\n    '&$textDense': {\n      fontSize: theme.typography.fontSize,\n    },\n  },\n  textDense: {},\n  divider: {\n    marginTop: theme.spacing.unit * 2,\n  },\n});\n\nclass Navigator extends Component {\n  newNote = () => {\n    var noteTitle = \"Note \" + (Object.keys(this.props.notes).length + 1);\n    // TODO: add note in global state rather than requesting entire list again\n    client.notes().create({name: noteTitle, content: \"# \" + noteTitle + \"\\n\"}, this.listNotes, this.err)\n  } \n\n  err = (response) => {\n    console.log(\"error --\");\n    console.log(response);\n  }\n\n  recieveNotes = (response) => {\n\t\tthis.props.dispatch(setNotes(response.data.items));\n  }\n\n  listNotes = () => {\n    client.notes().list(this.recieveNotes, this.err)\n  }\n\n  componentDidMount = () => {\n    this.listNotes();\n  }\n\n  selectNote = (noteId) => {\n    const history = this.props.history;\n    history.push('/' + noteId);\n  }\n\n  render() {\n\n    const { classes, variant, open, onClose, notes } = this.props;\n  \n    var notesArr = [];\n    if(notes) {\n      notesArr = Object.values(notes);\n    }\n\n    const categories = [\n      {\n        id: 'My Notes',\n        children: notesArr,\n      },\n    ];\n\n    return (\n      <Drawer variant={variant} open={open} onClose={onClose}>\n        <List disablePadding>\n          <ListItem className={classNames(classes.firebase, classes.item, classes.itemCategory)}>\n            notes\n          </ListItem>\n          <ListItem button onClick={this.newNote} className={classNames(classes.item, classes.itemCategory)}>\n            <ListItemIcon>\n              <AddIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{\n                primary: classes.itemPrimary,\n              }}>\n              New Note\n            </ListItemText>\n          </ListItem>\n          {categories.map(({ id, children }) => (\n            <React.Fragment key={id}>\n              <ListItem className={classes.categoryHeader}>\n                <ListItemText\n                  classes={{\n                    primary: classes.categoryHeaderPrimary,\n                  }}\n                >\n                </ListItemText>\n              </ListItem>\n              {children.map(({ id: noteId, name }) => (\n                <ListItem\n                  button\n                  dense\n                  selected={noteId === this.props.noteId}\n                  key={noteId}\n                  onClick={() => this.selectNote(noteId)}\n                  className={classNames(\n                    classes.item,\n                    classes.itemActionable,\n                    (noteId === this.props.noteId) && classes.itemActiveItem,\n                  )}\n                >\n                  <ListItemText\n                    classes={{\n                      primary: classes.itemPrimary,\n                      textDense: classes.textDense,\n                    }}\n                  >\n                    {name}\n                  </ListItemText>\n                </ListItem>\n              ))}\n            </React.Fragment>\n          ))}\n        </List>\n      </Drawer>\n    );\n  }\n}\n\nNavigator.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n// redux\nfunction mapStateToProps(state) {\n\treturn {\n    noteId: state.noteId,\n    notes: state.notes\n\t};\n}\n\nexport default withStyles(styles)(connect(mapStateToProps)(Navigator));","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport CreateIcon from '@material-ui/icons/Create';\nimport SaveIcon from '@material-ui/icons/Save';\nimport DeleteIcon from '@material-ui/icons/DeleteOutline';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport client from '../../apiclient/';\nimport {setNotes} from '../../store/notes/actionCreators';\n\nimport ReactMde from \"react-mde\";\nimport * as Showdown from \"showdown\";\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\n\nconst styles = theme => ({\n  paper: {\n    margin: 'auto',\n    overflow: 'hidden',\n  },\n  searchBar: {\n    borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n  },\n  searchInput: {\n    fontSize: theme.typography.fontSize,\n  },\n  block: {\n    display: 'block',\n  },\n  addUser: {\n    marginRight: theme.spacing.unit,\n  },\n  contentWrapper: {\n    margin: '40px 16px',\n  },\n});\n\nconst noteTitle = /^(?:#)\\s*(.+?)[ \\t]*$/m;\n\nclass Content extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      note: undefined,\n      loading: true,\n      edit: false,\n      tab: \"write\"\n    };\n\n    this.converter = new Showdown.Converter({\n        tables: true,\n        simplifiedAutoLink: true,\n        strikethrough: true,\n        tasklists: true\n    });\n  }\n\n  err = (response) => {\n    console.log(\"error --\");\n    console.log(response);\n    this.setState({loading: false});\n  }\n\n  recieveNote = (response) => {\n    this.setState({note: response.data, loading: false});\n  }\n\n  getNote = () => {\n    var c = this;\n    setTimeout(function(){\n      client.notes().get(c.props.noteId, c.recieveNote, c.err);\n    }, 250);\n  }\n\n  componentDidUpdate = (prevProps) => {\n\t\tvar newId = this.props.noteId;\n\t\tvar oldId = prevProps.noteId;\n\t\t\n\t\tif (newId !== oldId) {\n      this.setState({loading: true, note: undefined}, this.getNote);\n    }\n\t}\n\n  componentDidMount = () => {\n    if(this.props.noteId) {\n      this.getNote();\n    }\n  }\n\n  handleValueChange = (value) => {\n    var note = this.state.note;\n    note.content = value;\n    this.setState({\n      note: note\n    });\n  };\n\n  handleTabChange = (tab) => {\n    this.setState({tab})\n  };\n\n  toggleEdit = () => {\n    this.setState({edit: !this.state.edit});\n  }\n\n  saveNote = () => {\n    // save note\n    var wasThis = this;\n    const currentContent = this.state.note.content\n    console.log(currentContent);\n    var titles = noteTitle.exec(currentContent);\n    console.log(titles);\n    var title = \"Create a header for title\";\n    \n    if (titles && titles.length > 0) {\n      title = titles[0].replace(/# /g, '').replace(/#/g, '');\n    }\n\n    var updatedNote = this.state.note\n    updatedNote.name = title\n    var newNotesList = this.props.notes;\n    newNotesList[this.state.note.id] = updatedNote;\n\n    client.notes().update(\n      this.state.note.id, \n      {content: currentContent, name: title}, \n      function(){\n        wasThis.setState({edit: !wasThis.state.edit});\n\t\t    wasThis.props.dispatch(setNotes(Object.values(newNotesList)));\n      }, \n      function(){});\n  }\n\n  deleteNote = () => {\n    // delete note\n    client.notes().deleteNote(\n      this.state.note.id,\n      this.refreshList,\n      function(response){console.log(\"error\"); console.log(response);}\n    );\n  }\n\n  refreshList = () => {\n    const history = this.props.history;\n    var newNotesList = this.props.notes;\n    delete newNotesList[this.state.note.id];\n    \n    this.props.dispatch(setNotes(Object.values(newNotesList)));\n    history.push('/');\n  }\n\n  render = () => {\n    const { classes } = this.props;\n    return (\n      <React.Fragment>\n          <Paper className={classes.paper}>\n              <div className=\"note-header\" >\n              {this.props.noteId && this.state.loading && \n              <Typography component={'span'} align=\"center\">\n                  <CircularProgress />\n              </Typography>\n              }\n              {this.props.noteId && !this.state.loading && \n              <Grid container spacing={8} alignItems=\"center\">\n\n                {!this.state.edit &&\n                  <Grid item>\n                    <Tooltip title=\"Edit this note\">\n                      <IconButton color=\"primary\" onClick={this.toggleEdit}>\n                        <CreateIcon className={classes.create} />\n                      </IconButton>\n                    </Tooltip>\n                  </Grid>\n                }\n\n                {this.state.edit &&\n                  <Grid item>\n                    <Tooltip title=\"Save change to note\">\n                      <IconButton color=\"primary\" onClick={this.saveNote}>\n                        <SaveIcon className={classes.create} />\n                      </IconButton>\n                    </Tooltip>\n                  </Grid>\n                }\n\n                <Grid item>\n                  <Tooltip title=\"Delete this note\">\n                    <IconButton color=\"secondary\" onClick={this.deleteNote}>\n                      <DeleteIcon className={classes.delete} />\n                    </IconButton>\n                  </Tooltip>\n                </Grid>\n              </Grid>\n              }\n              </div>\n\n              {!this.state.edit &&\n              <div className={classes.contentWrapper}>\n                  <Typography color=\"textSecondary\" align=\"center\">\n                      {!this.props.noteId && \"Select or create a new note\"}\n                  </Typography>\n\n                  {this.state.note && !this.state.edit && \n                    <Typography component={'span'}>\n                      <div className=\"override-mde-preview mde-preview\">\n                        <div className=\"mde-preview-content\">\n                          <div dangerouslySetInnerHTML={{__html: this.converter.makeHtml(this.state.note.content)}} />\n                        </div>\n                      </div>\n                    </Typography>\n                  }\n              </div>}\n              {this.state.note && this.state.edit && \n                  <Typography component={'span'}>\n                    <ReactMde\n                      onChange={this.handleValueChange}\n                      onTabChange={this.handleTabChange}\n                      value={this.state.note.content}\n                      generateMarkdownPreview={markdown =>\n                          Promise.resolve(this.converter.makeHtml(markdown))}\n                      selectedTab={this.state.tab}\n                    />\n                  </Typography>\n                  }\n          </Paper>\n      </React.Fragment>\n    );\n  }\n}\n\nContent.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n// redux\nfunction mapStateToProps(state) {\n\treturn {\n    noteId: state.noteId,\n    editingNote: state.editingNote,\n    notes: state.notes\n\t};\n}\n\nexport default withStyles(styles)(connect(mapStateToProps)(Content));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Grid from '@material-ui/core/Grid';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport UserIcon from '@material-ui/icons/Mood';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Popper from '@material-ui/core/Popper';\nimport Typography from '@material-ui/core/Typography';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Leave from '@material-ui/icons/ExitToApp';\nimport { withStyles } from '@material-ui/core/styles';\nimport Machinable from '../../apiclient/';\n\nconst lightColor = 'rgba(255, 255, 255, 0.7)';\n\nconst styles = theme => ({\n  secondaryBar: {\n    zIndex: 0,\n  },\n  menuButton: {\n    marginLeft: -theme.spacing.unit,\n  },\n  iconButtonAvatar: {\n    padding: 4,\n  },\n  link: {\n    textDecoration: 'none',\n    color: lightColor,\n    '&:hover': {\n      color: theme.palette.common.white,\n    },\n  },\n  button: {\n    borderColor: lightColor,\n  },\n  header: {\n    background: '#eaeff1',\n  },\n  avatar: {\n    color: theme.palette.primary.main,\n  },\n  create: {\n    color: theme.palette.primary.dark,\n  },\n  delete: {\n    color: theme.palette.primary.light,\n  },\n});\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n  }\n\n  handleToggle = () => {\n    this.setState({ open: !this.state.open });\n  };\n\n  handleClose = event => {\n    if (this.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ open: false });\n  };\n\n  logout = () => {\n    const history = this.props.history;\n\n    Machinable.user().logout(function(){\n      history.push(\"/login\");\n    },function(){\n      history.push(\"/login\");\n    });\n  }\n\n  render = () => {\n    const { classes, onDrawerToggle } = this.props;\n\n    return (\n      <React.Fragment>\n        <AppBar className={classes.header} color=\"default\" position=\"sticky\" elevation={0}>\n          <Toolbar>\n            <Grid container spacing={8} alignItems=\"center\">\n              <Hidden smUp>\n                <Grid item>\n                  <IconButton\n                    color=\"inherit\"\n                    aria-label=\"Open drawer\"\n                    onClick={onDrawerToggle}\n                    className={classes.menuButton}\n                  >\n                    <MenuIcon />\n                  </IconButton>\n                </Grid>\n              </Hidden>\n\n              <Grid item xs />\n\n              <Grid item>\n                <IconButton \n                  buttonRef={node => {\n                    this.anchorEl = node;\n                  }}\n                  aria-owns={this.state.open ? 'menu-list-grow' : undefined}\n                  aria-haspopup=\"true\"\n                  onClick={this.handleToggle}\n                  color=\"inherit\">\n                  <UserIcon className={classes.avatar} />\n                </IconButton>\n                <Popper open={this.state.open} anchorEl={this.anchorEl} transition disablePortal>\n                  {({ TransitionProps, placement }) => (\n                    <Grow\n                      {...TransitionProps}\n                      id=\"menu-list-grow\"\n                      style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n                    >\n                      <Paper>\n                        <ClickAwayListener onClickAway={this.handleClose}>\n                          <MenuList>\n                            <MenuItem onClick={this.logout}>\n                              <ListItemIcon>\n                                <Leave />\n                              </ListItemIcon>\n                              <Typography variant=\"inherit\" noWrap>&nbsp;Logout</Typography>\n                            </MenuItem>\n                          </MenuList>\n                        </ClickAwayListener>\n                      </Paper>\n                    </Grow>\n                  )}\n                </Popper>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      </React.Fragment>\n    );\n  }\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onDrawerToggle: PropTypes.func.isRequired,\n};\n\n// redux\nfunction mapStateToProps(state) {\n\treturn {\n\t\teditingNote: state.editingNote\n\t};\n}\n\nexport default withStyles(styles)(connect(mapStateToProps)(Header));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { MuiThemeProvider, createMuiTheme, withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Hidden from '@material-ui/core/Hidden';\nimport Navigator from './Navigator';\nimport Content from './Content';\nimport Header from './Header';\n\nlet theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    h5: {\n      fontWeight: 500,\n      fontSize: 26,\n      letterSpacing: 0.5,\n    },\n  },\n  palette: {\n    primary: {\n      light: '#63ccff',\n      main: '#009be5',\n      dark: '#006db3',\n    },\n  },\n  shape: {\n    borderRadius: 8,\n  },\n});\n\ntheme = {\n  ...theme,\n  overrides: {\n    MuiDrawer: {\n      paper: {\n        backgroundColor: '#18202c',\n      },\n    },\n    MuiButton: {\n      label: {\n        textTransform: 'initial',\n      },\n      contained: {\n        boxShadow: 'none',\n        '&:active': {\n          boxShadow: 'none',\n        },\n      },\n    },\n    MuiTabs: {\n      root: {\n        marginLeft: theme.spacing.unit,\n      },\n      indicator: {\n        height: 3,\n        borderTopLeftRadius: 3,\n        borderTopRightRadius: 3,\n        backgroundColor: theme.palette.common.white,\n      },\n    },\n    MuiTab: {\n      root: {\n        textTransform: 'initial',\n        margin: '0 16px',\n        minWidth: 0,\n        [theme.breakpoints.up('md')]: {\n          minWidth: 0,\n        },\n      },\n      labelContainer: {\n        padding: 0,\n        [theme.breakpoints.up('md')]: {\n          padding: 0,\n        },\n      },\n    },\n    MuiIconButton: {\n      root: {\n        padding: theme.spacing.unit,\n      },\n    },\n    MuiTooltip: {\n      tooltip: {\n        borderRadius: 4,\n      },\n    },\n    MuiDivider: {\n      root: {\n        backgroundColor: '#404854',\n      },\n    },\n    MuiListItemText: {\n      primary: {\n        fontWeight: theme.typography.fontWeightMedium,\n      },\n    },\n    MuiListItemIcon: {\n      root: {\n        color: 'inherit',\n        marginRight: 0,\n        '& svg': {\n          fontSize: 20,\n        },\n      },\n    },\n    MuiAvatar: {\n      root: {\n        width: 32,\n        height: 32,\n      },\n    },\n  },\n  props: {\n    MuiTab: {\n      disableRipple: true,\n    },\n  },\n  mixins: {\n    ...theme.mixins,\n    toolbar: {\n      minHeight: 48,\n    },\n  },\n};\n\nconst drawerWidth = 256;\n\nconst styles = {\n  root: {\n    display: 'flex',\n    minHeight: '100vh',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appContent: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  mainContent: {\n    flex: 1,\n    padding: '12px 24px 0',\n    background: '#eaeff1',\n  },\n};\n\nclass Paperbase extends React.Component {\n  state = {\n    mobileOpen: false,\n  };\n\n  handleDrawerToggle = () => {\n    this.setState(state => ({ mobileOpen: !state.mobileOpen }));\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <div className={classes.root}>\n          <CssBaseline />\n          <nav className={classes.drawer}>\n            <Hidden smUp implementation=\"js\">\n              <Navigator\n                PaperProps={{ style: { width: drawerWidth } }}\n                variant=\"temporary\"\n                open={this.state.mobileOpen}\n                onClose={this.handleDrawerToggle}\n                history={this.props.history} \n              />\n            </Hidden>\n            <Hidden xsDown implementation=\"css\">\n              <Navigator variant=\"permanent\" history={this.props.history} PaperProps={{ style: { width: drawerWidth } }} />\n            </Hidden>\n          </nav>\n          <div className={classes.appContent}>\n            <Header onDrawerToggle={this.handleDrawerToggle} history={this.props.history} />\n            <main className={classes.mainContent}>\n              <Content history={this.props.history} />\n            </main>\n          </div>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nPaperbase.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Paperbase);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Notes from '../app/notes/Notes';\n\nimport {setNote} from '../store/notes/actionCreators';\n\nclass Home extends Component {\n\tcomponentDidUpdate = (prevProps) => {\n\t\tvar newId = this.props.match.params.noteId;\n\t\tvar oldId = prevProps.match.params.noteId;\n\t\t\n\t\tconsole.log(newId);\n\t\tconsole.log(oldId);\n\n\t\tif (newId !== oldId) {\n\t\t\tthis.props.dispatch(setNote(newId));\n\t\t}\n\t}\n\n  \tcomponentWillMount = () => {\n\t\tthis.props.dispatch(setNote(this.props.match.params.noteId));\n  \t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Notes history={this.props.history}/>\n\t\t  );\n\t}\n}\n\nexport default connect()(Home);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Notes from '@material-ui/icons/Notes';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport Machinable from '../../apiclient/';\n\nlet theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    h5: {\n      fontWeight: 500,\n      fontSize: 26,\n      letterSpacing: 0.5,\n    },\n  },\n  palette: {\n    primary: {\n      light: '#63ccff',\n      main: '#009be5',\n      dark: '#006db3',\n    },\n  },\n  shape: {\n    borderRadius: 8,\n  },\n});\n\nconst styles = theme => ({\n  main: {\n    width: 'auto',\n    display: 'block', // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing.unit,\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3,\n  },\n  categoryHeader: {\n    paddingTop: 16,\n    paddingBottom: 16,\n  },\n  categoryHeaderPrimary: {\n    color: theme.palette.common.white,\n  },\n  itemActionable: {\n    '&:hover': {\n      backgroundColor: 'rgba(255, 255, 255, 0.08)',\n    },\n  },\n  itemActiveItem: {\n    color: '#4fc3f7',\n  },\n  itemPrimary: {\n    color: 'inherit',\n    fontSize: theme.typography.fontSize,\n    '&$textDense': {\n      fontSize: theme.typography.fontSize,\n    },\n  },\n  textDense: {},\n  mainContent: {\n    flex: 1,\n    padding: '12px 24px 0',\n    background: '#eaeff1',\n    height: \"100vh\",\n  },\n  logo: {\n    marginTop: theme.spacing.unit * 8,\n    marginBottom: theme.spacing.unit * 4,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  largeAvatar: {\n    width: 64,\n    height: 64,\n  },\n  largeAvatarIcon: {\n    fontSize: 48\n  },\n  divider: {\n    margin: \"12px 0px 12px 0px\"\n  }\n});\n\nclass Signin extends Component {\n\tconstructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      errors: [],\n      loading: false\n    }\n  }\n  handleResponse = (response) => {\n\t\tMachinable.user().saveTokens(\n\t\t\tresponse.data.access_token,\n\t\t\tresponse.data.refresh_token,\n\t\t\tresponse.data.session_id\n    );\n    // when using history the navigation drawer does not load... FIXIT\n    // this.props.history.push('/');\n    window.location.href = \"/\";\n\t}\n\n\thandleError = (err) => {\n    console.log(err);\n\t\tvar error = 'Issue logging in, please try again.'\n\t\tthis.setState({\n\t\t    loading: false,\n        errors: [error]\n\t\t  });\n\t}\n\n  onChange = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  onSubmit = (event) => {\n    console.log(event);\n    event.preventDefault();\n    var errors = [];\n\n    if(!this.state.username) {\n      errors.push('Invalid username');\n    }\n\n    if(!this.state.password) {\n      errors.push('Invalid password');\n    }\n  \n    this.setState({\n      errors: errors\n    });\n\n    var arr = errors.map(function(k) { return k });\n\n    if(arr.join('').length === 0) {\n      var pw = this.state.password;\n      var un = this.state.username;\n      this.setState({\n        loading: true\n      });\n      Machinable.user().login(un, pw).then(this.handleResponse).catch(this.handleError);\n    }\n  }\n\n  render = () => {\n    const { classes } = this.props;\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <main className={classes.mainContent}>\n          <div className={classes.main}>\n            <CssBaseline />\n            <div className={classes.logo}>\n              <Avatar className={classes.largeAvatar}>\n                <Notes className={classes.largeAvatarIcon}/>\n              </Avatar>\n            </div>\n            <Paper className={classes.paper}>\n              <Typography component=\"h1\" variant=\"h5\">\n                Sign in\n              </Typography>\n              {this.state.errors.map(function(v, i){\n                return (\n                  <Typography key={\"error_\"+i} color=\"error\">{v}</Typography>\n                )\n              })}\n              <form className={classes.form}>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"username\">Username</InputLabel>\n                  <Input onChange={this.onChange} id=\"username\" name=\"username\" autoComplete=\"username\" autoFocus />\n                </FormControl>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"password\">Password</InputLabel>\n                  <Input onChange={this.onChange} name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" />\n                </FormControl>\n                {this.state.loading && <div className=\"center-items mt15\"><CircularProgress/></div>}\n                {!this.state.loading && \n                <>\n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  onClick={this.onSubmit}\n                >\n                  Sign In\n                </Button>\n\n                <Divider light variant=\"middle\" className={classes.divider} />\n\n                <Button fullWidth color=\"primary\" className={classes.button} href=\"/register\">\n                  Register\n                </Button>\n                </>}\n              </form>\n            </Paper>\n          </div>\n        </main>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nSignin.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Signin);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Notes from '@material-ui/icons/Notes';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport Machinable from '../../apiclient/';\n\nlet theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    h5: {\n      fontWeight: 500,\n      fontSize: 26,\n      letterSpacing: 0.5,\n    },\n  },\n  palette: {\n    primary: {\n      light: '#63ccff',\n      main: '#009be5',\n      dark: '#006db3',\n    },\n  },\n  shape: {\n    borderRadius: 8,\n  },\n});\n\nconst styles = theme => ({\n  main: {\n    width: 'auto',\n    display: 'block', // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing.unit,\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3,\n  },\n  categoryHeader: {\n    paddingTop: 16,\n    paddingBottom: 16,\n  },\n  categoryHeaderPrimary: {\n    color: theme.palette.common.white,\n  },\n  itemActionable: {\n    '&:hover': {\n      backgroundColor: 'rgba(255, 255, 255, 0.08)',\n    },\n  },\n  itemActiveItem: {\n    color: '#4fc3f7',\n  },\n  itemPrimary: {\n    color: 'inherit',\n    fontSize: theme.typography.fontSize,\n    '&$textDense': {\n      fontSize: theme.typography.fontSize,\n    },\n  },\n  textDense: {},\n  mainContent: {\n    flex: 1,\n    padding: '12px 24px 0',\n    background: '#eaeff1',\n    height: \"100vh\",\n  },\n  logo: {\n    marginTop: theme.spacing.unit * 8,\n    marginBottom: theme.spacing.unit * 4,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  largeAvatar: {\n    width: 64,\n    height: 64,\n  },\n  largeAvatarIcon: {\n    fontSize: 48\n  },\n  divider: {\n    margin: \"12px 0px 12px 0px\"\n  }\n});\n\nclass Register extends Component {\n\tconstructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      password_confirm: \"\",\n      errors: [],\n      loading: false\n    }\n  }\n  \n  handleResponse = (response) => {\n\t\tthis.props.history.push('/login');\n\t}\n\n\thandleError = (err) => {\n    console.log(err);\n\t\tvar error = 'Issue registering, please try again.'\n\t\tthis.setState({\n\t\t    loading: false,\n        errors: [error]\n\t\t  });\n\t}\n\n  onChange = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  onSubmit = (event) => {\n    console.log(event);\n    event.preventDefault();\n    var errors = [];\n\n    if(!this.state.username) {\n      errors.push('Invalid username');\n    }\n\n    if(!this.state.password) {\n      errors.push('Invalid password');\n    }\n\n    if(this.state.password !== this.state.password_confirm) {\n      errors.push('Passwords must match');\n    }\n  \n    this.setState({\n      errors: errors\n    });\n\n    var arr = errors.map(function(k) { return k });\n\n    if(arr.join('').length === 0) {\n      var pw = this.state.password;\n      var un = this.state.username;\n      this.setState({\n        loading: true\n      });\n      Machinable.user().register(un, pw).then(this.handleResponse).catch(this.handleError);\n    }\n  }\n\n  render = () => {\n    const { classes } = this.props;\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <main className={classes.mainContent}>\n          <div className={classes.main}>\n            <CssBaseline />\n            <div className={classes.logo}>\n              <Avatar className={classes.largeAvatar}>\n                <Notes className={classes.largeAvatarIcon}/>\n              </Avatar>\n            </div>\n            <Paper className={classes.paper}>\n              <Typography component=\"h1\" variant=\"h5\">\n              Register\n              </Typography>\n              {this.state.errors.map(function(v, i){\n                return (\n                  <Typography key={\"error_\"+i} color=\"error\">{v}</Typography>\n                )\n              })}\n              <form className={classes.form}>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"username\">Username</InputLabel>\n                  <Input onChange={this.onChange} id=\"username\" name=\"username\" autoComplete=\"username\" autoFocus />\n                </FormControl>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"password\">Password</InputLabel>\n                  <Input onChange={this.onChange} name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" />\n                </FormControl>\n                <FormControl margin=\"normal\" required fullWidth>\n                  <InputLabel htmlFor=\"password_confirm\">Confirm Password</InputLabel>\n                  <Input onChange={this.onChange} name=\"password_confirm\" type=\"password\" id=\"password_confirm\" autoComplete=\"password_confirm\" />\n                </FormControl>\n\n                {this.state.loading && <div className=\"center-items mt15\"><CircularProgress/></div>}\n                {!this.state.loading && \n                <>\n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                  onClick={this.onSubmit}\n                >\n                  Register\n                </Button>\n\n                <Divider light variant=\"middle\" className={classes.divider} />\n\n                <Button fullWidth color=\"primary\" className={classes.button} href=\"/login\">\n                  Login\n                </Button>\n                </>}\n              </form>\n            </Paper>\n          </div>\n        </main>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nRegister.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Register);","import React, { Component } from 'react';\nimport Login from '../app/user/Login';\nimport Register from '../app/user/Register';\nimport { Route, Switch } from 'react-router-dom';\n\nclass User extends Component {\n\n\trender() {\n\n\t\treturn (\n            <Switch>\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/register\" component={Register} />\n            </Switch>\n\t\t  );\n\t}\n}\n\nexport default User;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport axios from 'axios';\nimport { Provider } from 'react-redux'; \nimport store from './store';\nimport createHistory from 'history/createBrowserHistory';\nimport Home from './containers/Home';\nimport User from './containers/User';\nimport Machinable from './apiclient/';\nimport './index.css';\n\n// Add a 401 response interceptor\n// This will intercept 401 status codes and attempt to refresh the user's access token.\n// If a 401 is returned from the refresh attempt, the refresh token is expired and the user\n// needs to login again.\naxios.interceptors.response.use(function (response) {\n\treturn response;\n}, function (error) {\n\tif (401 === error.response.status && \n\t\terror.response.data.error && \n\t\terror.response.data.error === \"invalid access token\") {\n\n\t\treturn Machinable.user().refreshToken()\n\t\t\t\t  .then((response) => {\n\t\t\t\t\tconsole.log(\"refreshed access token.\")\n\t\t\t\t\tif(response) {\n\t\t\t\t\t\tMachinable.setAccessToken(response.data.access_token);\n\t\t\t\t\t  \terror.config.headers.Authorization = \"Bearer \" + response.data.access_token;\n\t\t\t\t\t  \treturn axios.request(error.config);\n\t\t\t\t\t}\n\t\t\t\t  });\n\t} \n\telse if ((401 === error.response.status) || \n\t\t\t\t(404 === error.response.status && \n\t\t\t\terror.response.data.message && \n\t\t\t\terror.response.data.message === \"error creating access token.\")) {\n\t\tMachinable.user().logout(function(){\n\t\t\thistory.push('/login');\n\t\t}, function(){\n\t\t\thistory.push('/login');\n\t\t});\n\t} \n\telse {\n\t  // return the actual error response and handle it explicitly\n\t  return Promise.reject(error.response);\n\t}\n});\n\nconst history = createHistory();\n\nconst App = () => (\n\t<div>\n\t\t<Router history={history}>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/login\" component={User} />\n\t\t\t\t<Route path=\"/register\" component={User} />\n\n\t\t\t\t<Route path=\"/:noteId\" component={({history, match}) => <Home history={history} match={match}/>} />\n\t\t\t\t<Route path=\"/\" component={({history, match}) => <Home history={history} match={match}/>} />\n\t\t\t</Switch>\n\t\t</Router>\n\t</div>\n)\n\nReactDOM.render((\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n), document.getElementById('root'));"],"sourceRoot":""}